<div class="audio-container mx-auto">
    <audio #audioPlayer [src]="audioSrc">
        <span>Your browser does not support the audio tag. Click</span>
        <a [href]="audioSrc">here</a>
        <span>to listen the story.</span>
    </audio>

    <div class="divider">
        <div class="col-player">
            <button mat-icon-button (click)="playPause()" [disabled]="isLoading">
                <mat-icon>{{ isPlaying ? 'pause' : 'play_arrow' }}</mat-icon>
            </button>
            <mat-slider
                #slider
                class="audio-slider"
                [disabled]="isLoading"
                [max]="duration"
                step="1"
                [thumbLabel]=""
                [value]="currentTime"
                (change)="updateCurrentTime($event)"
            >
            </mat-slider>
            <div class="times">
                <span>{{ currentTime | secondsToMinutes }} / {{ duration | secondsToMinutes }}</span>
            </div>
        </div>
        <div class="col-controls">
            <a [href]="audioSrc" download mat-icon-button [disabled]="isLoading">
                <mat-icon>cloud_download</mat-icon>
            </a>
            <div class="volume">
                <button mat-icon-button (click)="toggleMute()" [disabled]="isLoading">
                    <mat-icon *ngIf="!isMuted">{{ (volume < 0.5) ? 'volume_down' : 'volume_up' }}</mat-icon>
                    <mat-icon *ngIf="isMuted">volume_off</mat-icon>
                </button>
                <mat-slider
                    #slider
                    class="volume-slider"
                    [disabled]="isLoading"
                    max="1"
                    step="0.01"
                    [thumbLabel]=""
                    [value]="volume"
                    (change)="updateVolume($event)"
                >
                </mat-slider>
            </div>
        </div>
    </div>
</div>
